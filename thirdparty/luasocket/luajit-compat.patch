diff --git a/src/compat.h b/src/compat.h
--- a/src/compat.h
+++ b/src/compat.h
@@ -1,3 +1,4 @@
+#if 0 // not necessary for luajit
 #ifndef COMPAT_H
 #define COMPAT_H
 
@@ -20,3 +21,4 @@ void *luasocket_testudata ( lua_State *L, int arg, const char *tname);
 #endif
 
 #endif
+#endif
